<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üåæ Inscription - Plateforme Agricole</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root{
      --primary: #2e7d32;
      --primary-600: #1b5e20;
      --accent: #f9a825;
      --bg: #f3f9f1;
      --card: #ffffff;
      --muted: #a4a786;
    }

    body{
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(180deg, var(--bg) 0%, #eaf6e6 100%);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px;
    }

    .card-rounded{
      border-radius:18px;
      box-shadow: 0 18px 45px rgba(30,80,30,0.08);
      overflow:hidden;
    }

    .side-illustration{
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-600) 100%);
      color: #fff;
      padding:36px;
      display:flex;
      flex-direction:column;
      justify-content:center;
      gap:12px;
      text-align:center;
    }

    .side-illustration h2{
      font-size:28px;
      font-weight:700;
      letter-spacing:0.2px;
    }

    .side-illustration p{
      opacity:0.95;
      line-height:1.5;
      font-size:15px;
    }

    .img-ill{
      width:220px;
      border-radius:12px;
      margin: 10px auto 0;
      display:block;
      box-shadow: 0 8px 30px rgba(0,0,0,0.18);
      transition: transform .35s ease;
    }
    .img-ill:hover{ transform: translateY(-6px) scale(1.02); }

    .form-panel{
      padding:34px;
      background:var(--card);
    }

    .form-title{
      color:var(--primary-600);
      font-weight:700;
    }

    label{ font-weight:600; font-size:0.95rem; }

    .btn-primary{
      background:var(--primary);
      border-color:var(--primary);
      box-shadow:none;
    }
    .btn-primary:hover{
      background:var(--primary-600);
      border-color:var(--primary-600);
    }

    .region-select { gap:12px; display:flex; flex-wrap:wrap; }

    .small-muted { font-size:0.85rem; color:var(--muted); }

    /* responsive */
    @media (max-width: 900px){
      .img-ill{ width:160px; }
    }

    @media (max-width: 720px){
      .side-illustration{ padding:24px; }
      .form-panel{ padding:22px; }
    }
    
    /* ‚úÖ Correction compl√®te pour petits √©crans */
@media (max-width: 768px) {
  body {
    padding: 16px;
  }

  .card-rounded {
    box-shadow: 0 8px 25px rgba(0,0,0,0.08);
  }

  /* On affiche l‚Äôillustration en haut du formulaire */
  .side-illustration {
    display: flex !important;
    flex-direction: column;
    align-items: center;
    padding: 24px;
    text-align: center;
  }

  .side-illustration h2 {
    font-size: 22px;
  }

  .side-illustration p {
    font-size: 14px;
    line-height: 1.5;
  }

  .img-ill {
    width: 160px;
    margin-top: 12px;
  }

  /* Le formulaire prend toute la largeur */
  .form-panel {
    padding: 24px;
  }

  .form-title {
    font-size: 22px;
    text-align: center;
  }


  .d-none.d-md-block {
    display: none !important;
  }

  /* Colonnes dans les champs deviennent verticales */
  .region-select {
    flex-direction: column;
  }

  .region-select > div {
    width: 100% !important;
  }

  button.btn {
    font-size: 15px;
  }
}
    .login-link {
      text-align: center;
      margin-top: 20px;
    }

    .login-link a {
      color: var(--primary);
      font-weight: 600;
      text-decoration: none;
    }

    .login-link a:hover {
      text-decoration: underline;
    }

.role-hint-animated {
  background: #ffffff;
  border: 1.5px solid #c8e6c9;
  padding: 14px 18px;
  border-radius: 16px;
  font-size: 15px;
  color: #1b5e20;
  font-weight: 600;
  text-align: center;
  transition: all 0.3s ease;
}

.role-hint-animated:hover {
  background: #e8f5e9;
  transform: scale(1.02);
}
.btn-home-icon {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: #4caf50;
  color: white;
  padding: 10px 18px;
  border-radius: 30px;
  font-weight: 600;
  text-decoration: none;
  transition: 0.3s;
}

.btn-home-icon:hover {
  background: #2e7d32;
  transform: translateY(-2px);
}

.btn-home-icon {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: #4caf50;
  color: white;
  padding: 10px 18px;
  border-radius: 30px;
  font-weight: 600;
  text-decoration: none;
  transition: 0.3s;
  opacity: 0;
  animation: fadeIn 0.8s ease forwards;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-5px); }
  to { opacity: 1; transform: translateY(0); }
}

/* === Bouton flottant Accueil (√† droite) === */
.floating-home-btn {
  position: fixed;
  bottom: 20px;
  right: 20px; /* ‚úÖ ÿ®ÿØŸÑ left:20px par right:20px */
  width: 55px;
  height: 55px;
  background: #4caf50;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
  transition: all 0.3s ease;
  z-index: 9999;
  cursor: pointer;
  animation: fadeInUp 0.6s ease forwards;
}

.floating-home-btn:hover {
  background: #2e7d32;
  transform: scale(1.1);
  box-shadow: 0 6px 15px rgba(46, 125, 50, 0.4);
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
.floating-home-btn::after {
  content: "Accueil";
  position: absolute;
  right: 65px;
  background: #4caf50;
  color: #fff;
  padding: 5px 12px;
  border-radius: 20px;
  opacity: 0;
  transform: translateX(10px);
  transition: all 0.3s ease;
  pointer-events: none;
  font-size: 14px;
  white-space: nowrap;
}

.floating-home-btn:hover::after {
  opacity: 1;
  transform: translateX(0);
}


  </style>
</head>
<body>

  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-10">
        <div class="card card-rounded overflow-hidden">
          <div class="row g-0">
            <!-- Illustration (left) -->
            <div class="col-md-5 d-none d-md-flex side-illustration">
              <div>
                <h2>Bienvenue sur AgriConnect</h2>
                <p>Plateforme de gestion terrain pour votre entreprise agricole ‚Äî g√©rez les d√©l√©gu√©s, suivez les rapports et couvrez toutes les wilayas d'Alg√©rie.</p>
<p class="role-hint-animated">
  <i class="fas fa-leaf"></i> S√©lectionnez votre <b>r√¥le</b>, votre <b>r√©gion</b> et votre <b>wilaya</b> pour d√©marrer üåæ
</p>
                <img src="agri-report.png" alt="agriculture" class="img-ill">

              </div>
            </div>

            <!-- Form (right) -->
            <div class="col-md-7 form-panel">
        <div class="d-flex align-items-center justify-content-between mb-3">
                <div>
                  <h3 class="form-title mb-0">Cr√©er un compte</h3>
                  <div class="small-muted">Inscription pour D√©l√©gu√© / Chef de r√©gion / Commercial</div>
                </div>
                <div class="text-end d-none d-md-block">
                  <span class="badge bg-success"><i class="bi bi-people-fill"></i> 3 profils</span>
                </div>
              </div>


              <form id="registrationForm" novalidate>
                <div class="mb-3">
                  <label for="fullname" class="form-label">Nom & Pr√©nom</label>
                  <input type="text" id="fullname" class="form-control" placeholder="Ex: Ahmed Benali" required>
                </div>

                <div class="row gx-3">
                  <div class="col-md-6 mb-3">
                    <label for="phone" class="form-label">T√©l√©phone</label>
                    <input type="tel" id="phone" class="form-control" placeholder="07XXXXXXXX" required>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label for="email" class="form-label">E-mail</label>
                    <input type="email" id="email" class="form-control" placeholder="exemple@mail.com" required>
                  </div>
                </div>

                <div class="mb-3 region-select">
                  <div class="flex-grow-1" style="min-width:160px;">
                    <label for="region" class="form-label">R√©gion</label>
                    <select id="region" class="form-select" required>
                      <option value="">-- S√©lectionnez la r√©gion --</option>
                      <option value="nord">Nord</option>
                      <option value="est">Est</option>
                      <option value="ouest">Ouest</option>
                      <option value="sud">Sud</option>
                    </select>
                  </div>

                  <div class="flex-grow-1" style="min-width:180px;">
                    <label for="wilaya" class="form-label">Wilaya</label>
                    <select id="wilaya" class="form-select" required>
                      <option value="">-- S√©lectionnez la wilaya --</option>
                    </select>
                  </div>

                  <div style="min-width:140px; align-self:end;">
                    <button type="button" id="showAllBtn" class="btn btn-outline-secondary w-100" title="Afficher les 58 wilayas">
                      <i class="bi bi-list-ul"></i> Toutes
                    </button>
                  </div>
                </div>

                <div class="mb-3">
                  <label for="password" class="form-label">Mot de passe</label>
                  <input type="password" id="password" class="form-control" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>

                <div class="mb-3">
                  <label for="role" class="form-label">Type de compte</label>
                  <select id="role" class="form-select" required>
                    <option value="">-- Choisissez un r√¥le --</option>
                    <option value="delegue-technique">D√©l√©gu√© technique</option>
                    <option value="chef-region">Chef de r√©gion</option>
                    <option value="delegue-commercial">D√©l√©gu√© commercial</option>
                  </select>
                </div>

                <div class="d-grid gap-2">
                  <!-- Replace '#' by your backend endpoint (ex: process_register.php) -->
                  <button type="submit" class="btn btn-primary btn-lg">
                    <i class="bi bi-pencil-square me-2"></i> S'inscrire
                  </button>
                </div>

                <div class="text-center  login-link mt-3">
                  <small class="small-muted">D√©j√† inscrit ? <a href="login.html">Connectez-vous</a></small>
                </div>
              </form>

              <!-- small helper -->
              <div class="mt-4 small text-muted">
                <i class="bi bi-info-circle"></i> Les chefs de r√©gion pourront visualiser les rapports et d√©l√©guer les d√©l√©gu√©s techniques dans leurs r√©gions.
              </div>
            </div>
          </div> <!-- row -->
        </div> <!-- card -->
      </div>
    </div>
  </div>

  <!-- Toast success -->
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index:1100">
    <div id="successToast" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body">
          ‚úÖ Inscription r√©ussie ‚Äî Bienvenue sur AgriConnect !
        </div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Fermer"></button>
      </div>
    </div>
  </div>
<!-- üîò Bouton flottant Accueil √† droite -->
<a href="index.html" class="floating-home-btn" title="Retour √† l'accueil">
  <i class="fas fa-home"></i>
</a>

  <!-- Bootstrap 5 JS + Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // ---- Liste compl√®te (58) - source interne ----
    const allWilayas = [
      "Adrar","Chlef","Laghouat","Oum El Bouaghi","Batna","B√©ja√Øa","Biskra","B√©char","Blida","Bouira",
      "Tamanrasset","T√©bessa","Tlemcen","Tiaret","Tizi Ouzou","Alger","Djelfa","Jijel","S√©tif","Sa√Øda",
      "Skikda","Sidi Bel Abb√®s","Annaba","Guelma","Constantine","M√©d√©a","Mostaganem","M'Sila","Mascara","Ouargla",
      "Oran","El Bayadh","Illizi","Bordj Bou Arreridj","Boumerd√®s","El Tarf","Tindouf","Tissemsilt","El Oued","Khenchela",
      "Souk Ahras","Tipaza","Mila","A√Øn Defla","Na√¢ma","A√Øn T√©mouchent","Gharda√Øa","Relizane","El M'Ghair","El Meniaa",
      "Ouled Djellal","Bordj Baji Mokhtar","B√©ni Abb√®s","Timimoun","Touggourt","Djanet","In Salah","In Guezzam"
    ];

    // ---- Mapping r√©gional (approximatif) pour filtrage rapide ----
    // Remarque: mapping volontairement simple pour UX. Tu peux le modifier si tu as une classification administrative pr√©cise.
    const regions = {
      nord: [
        "Alger","Blida","Boumerd√®s","Tipaza","Tizi Ouzou","B√©ja√Øa","Jijel","Skikda","Annaba","M√©d√©a",
        "Chlef","Bouira","Tipaza","Mostaganem","Relizane","Oran","Tlemcen","Mascara","S√©tif","Bejaia"
      ],
      est: [
        "Constantine","Guelma","Souk Ahras","Khenchela","T√©bessa","Batna","Oum El Bouaghi","Mila","Skikda","Jijel",
        "Annaba","El Tarf","Setif","Constantine"
      ],
      ouest: [
        "Oran","Tlemcen","Mostaganem","Sidi Bel Abb√®s","Mascara","Relizane","Sa√Øda","Tiaret","El Bayadh","Na√¢ma",
        "A√Øn T√©mouchent","Tlemcen"
      ],
      sud: [
        "Adrar","Tamanrasset","B√©char","Ouargla","Gharda√Øa","Tindouf","El Meniaa","In Salah","In Guezzam","Timimoun",
        "Touggourt","Djanet","B√©ni Abb√®s","Bordj Baji Mokhtar","El Oued","Illizi","Ouled Djellal","El M'Ghair"
      ]
    };

    // Element refs
    const regionSelect = document.getElementById('region');
    const wilayaSelect = document.getElementById('wilaya');
    const showAllBtn = document.getElementById('showAllBtn');

    function clearWilaya(){
      wilayaSelect.innerHTML = '<option value="">-- S√©lectionnez la wilaya --</option>';
    }

    function addWilayaOption(name){
      const opt = document.createElement('option');
      opt.value = name.toLowerCase().replace(/\s+/g,'-');
      opt.textContent = name;
      wilayaSelect.appendChild(opt);
    }

    // Charger toutes les wilayas
    function loadAllWilayas(){
      clearWilaya();
      allWilayas.forEach(w => addWilayaOption(w));
    }

    // Charger selon r√©gion (si mapping incomplet, proposer bouton 'Toutes')
    regionSelect.addEventListener('change', () => {
      const r = regionSelect.value;
      clearWilaya();
      if(!r) return;
      if(regions[r] && Array.isArray(regions[r]) && regions[r].length){
        // retirer doublons rapides et afficher
        const unique = Array.from(new Set(regions[r]));
        unique.forEach(w => addWilayaOption(w));
        // ajouter option pour voir toutes si l'utilisateur veut
        const sep = document.createElement('option');
        sep.disabled = true;
        sep.textContent = '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ';
        wilayaSelect.appendChild(sep);
        const allOpt = document.createElement('option');
        allOpt.value = '---all---';
        allOpt.textContent = 'Afficher toutes les wilayas';
        wilayaSelect.appendChild(allOpt);
      } else {
        // fallback
        loadAllWilayas();
      }
    });

    // If user picks "Afficher toutes les wilayas" in the wilaya select
    wilayaSelect.addEventListener('change', () => {
      if(wilayaSelect.value === '---all---'){
        loadAllWilayas();
      }
    });

    // Button to show all wilayas directly
    showAllBtn.addEventListener('click', () => {
      regionSelect.value = '';
      loadAllWilayas();
      wilayaSelect.focus();
    });

    // Form handling (front-end demo). Replace with real POST to backend.
    const registrationForm = document.getElementById('registrationForm');
    registrationForm.addEventListener('submit', (e) => {
      e.preventDefault();

      // Simple validation demo (bootstrap form validation patterns can be added)
      const fullname = document.getElementById('fullname').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const email = document.getElementById('email').value.trim();
      const region = document.getElementById('region').value;
      const wilaya = document.getElementById('wilaya').value;
      const password = document.getElementById('password').value;
      const role = document.getElementById('role').value;

      if(!fullname || !phone || !email || !region || !wilaya || !password || !role){
        // show an alert (you can replace with custom UI)
        alert('Veuillez remplir tous les champs obligatoires.');
        return;
      }

      // Here you would send data to server via fetch()/XHR to your endpoint.
      // Example:
      // fetch('/process_register.php', { method: 'POST', body: formData })...

      // Show bootstrap toast success
      const toastEl = document.getElementById('successToast');
      const toast = new bootstrap.Toast(toastEl, { delay: 3500 });
      toast.show();

      // optionally reset form after a short delay
      setTimeout(() => registrationForm.reset(), 500);
    });

    // Optional: pre-load nothing ‚Äî allow user to choose region or click "Toutes"
    // (But if you prefer to load all by default, uncomment next line)
    // loadAllWilayas();
  </script>
</body>
</html>
